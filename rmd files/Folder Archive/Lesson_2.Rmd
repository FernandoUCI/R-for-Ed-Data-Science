---
title: "R Workshop for Education Data Science Lesson 1"
author: "Fernando Rodriguez"
date: "1/10/2019"
output: html_document

---
<br>

## Table of Contents
0. Loading/Installing Libraries
1. More workflow basics
    - Navigating multiple R-Markdown files
    - Commenting within chunks of code
2. Importing and Exploring Data
    - Importing data
    - Getting structure of data
3. the $ sign
4. Vector Types
5. Factors as a special case of numeric vector
    - Changing vector types 
6. Dealing with NAs
    - Assigning NAs when importing
    - Figuring out number of NAs
7. Data Reduction
    - Figuing out how we'll reduce the data

    

```{r}
knitr::opts_chunk$set(echo = TRUE)
```

## 0. Loading Libraries
First, let's load the libraries you will use for this lesson. This is the first
thing you should do when writing an R-Markdown document. That way, you ensure
that you load all of the necessary libraries prior to running code.

```{r}
# install.libraries("dplyr") <- installing libraries require double qoutations 
library(ggplot2) # <- loading libraries doesn't require double qoutations
library(dplyr) # <- for tibbles
```
<br><br>

## 1. More workflow basics

### Navigating Multiple Markdown Files
You can have several R-Markdown files open.
However, if you are using the same variable names across different R-Markdown files,
These variables will get overritten. 

We will learn more about how to manage differnt R-Markdown files and projects
in later lessons.
```{r}
a <- 6
```


### Commenting out text and code
Sometimes you want to leave a quick comment inside an r-chunk,
or would simply like to comment out some code.
You can do this by using `#`
```{r}
# comment 
# 2 + 3
```

You can comment-out multiple lines of code by selecting the code and using<br>
control + shift + c (windows and mac)<br>
command + shift + c (mac)

```{r}
ggplot(mtcars, aes(x = hp, y = mpg, color = mpg)) + 
 geom_point() + 
  theme(text = element_text(size = 20)) +
  labs(x = "Horsepower", y = "MPG") +
  scale_color_gradient(low = "red", high = "blue") +
  facet_grid(.~cyl)
```




## 2. Importing Data using read.csv()

```{r}
demodata <- read.csv("/Volumes/GoogleDrive/My Drive/R Workspace/R-for-Ed-Data-Science/Data/Physics Course Demo Data.csv", header = T)
```

### Exploring Data
### Getting structureof the data
We can use the str() 
```{r}
str(demodata)
```

## 3. the $ sign
Notice that each variable name has a $ to its left

```{r}
str(demodata$agegroup)
```




## 3. Vector Types and Classes
A Vector is a fixed-length collection of values

R has 6 atomic vector types

Atomic means that it onl holds data of a single type

  - character: "a", "swc"
  - numeric: 2, 15.5
  - integer: 2L (the L tells R to store this as an integer)
  - logical: TRUE, FALSE
  - complex: 1+4i (complex numbers with real and imaginary parts)

```{r}
str(demodata)
```



## 4. Factors 

Factors in R are stored as a vector of integer values with a corresponding set of character values to use when the factor is displayed
Which are some variables that have the wrong vector type?

use as.factor, as.numeric, as.character

```{r}
demodata$age <- as.numeric(demodata$agegroup)
str(demodata)
```


```{r}
demodata$age <- as.numeric(as.character(demodata$agegroup))
str(demodata)
```


## 5. Dealing with NAs
overwriting original data import, but now declaring how to deal with empty
cells
```{r}
demodata2 <- read.csv("/Volumes/GoogleDrive/My Drive/R Workspace/R-for-Ed-Data-Science/Data/Physics Course Demo Data.csv", header = T,
                     na.strings=c("",NA))
```


# But wait, don't I want to know what the NAs are?
How can we find out what the function table() can do, and can we find
some script that displays the NAs?

```{r}

```

```{r}
table(demodata$gender, useNA = ("always"))

```


overwriting original data import, but now declaring how to deal with empty
cells
```{r}
demodata <- read.csv("/Volumes/GoogleDrive/My Drive/R Workspace/R-for-Ed-Data-Science/Data/Physics Course Demo Data.csv", header = T,
                     na.strings=c("",NA))
```

## Exploring our data
### Figuring out what data we have



## Some platting
```{r}
ggplot(demodata, aes(x = eth2009rollupforreporting)) + geom_histogram(stat = "count")
  
```

make histogram horisontal using coord_flip()
```{r}
ggplot(demodata, aes(x = eth2009rollupforreporting )) + geom_histogram(stat = "count") +
  coord_flip()
```


```{r}
ggplot(demodata, aes(x = eth2009rollupforreporting )) + geom_histogram(stat = "count") +
  coord_flip() + facet_grid(gender ~.)
```



# Let's look at hsgpa
```{r}
ggplot(demodata, aes(x = hsgpa)) + geom_histogram(stat = "count") 
```

```{r}
table(demodata$hsgpa, useNA = ("always"))
```


## Important data reductiontask
We want to know what our sample should be when we conduct some analyses
We know we have missing data, but can we find a variable that gives us a reason
for all of this missing data

The next library will help us understand this... and change your life.
```{r}
library(summarytools)
```


```{r}
print(dfSummary(demodata), method = 'rmarkdown')
```


## Using logical operators to subset rows of dataframes
```{r}
demodata2$agegroup > 30
```


```{r}
demodata2
```

```{r}
head(demodata2)
```


